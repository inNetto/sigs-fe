webpackJsonp([11],{446:function(n,e,t){function o(n){a||t(586)}var a=!1,i=t(6)(t(588),t(594),o,"data-v-4c8c1f10",null);i.options.__file="C:\\laragon\\www\\html\\src\\components\\pages\\manutencaoCadastros.vue",i.esModule&&Object.keys(i.esModule).some(function(n){return"default"!==n&&"__"!==n.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] manutencaoCadastros.vue: functional components are not supported with templates, they should use render functions."),n.exports=i.exports},586:function(n,e,t){var o=t(587);"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);var a=t(8).default;a("40f3fbfb",o,!1,{})},587:function(n,e,t){e=n.exports=t(7)(!1),e.push([n.i,"\n.q-tab-pane[data-v-4c8c1f10] {\r\n  padding: 0;\n}\r\n",""])},588:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t(589),a=function(n){return n&&n.__esModule?n:{default:n}}(o);e.default={name:"ManutencaoCadastros",components:{TabelaDados:a.default},data:function(){return{totais:{numeros:0}}},mounted:function(){this.getRegistros()},methods:{getRegistros:function(){var n=this;this.$bus.$emit("loading"),this.$http.get("/manutencao/numero/1").then(function(e){n.$bus.$emit("loading"),n.totais.numeros=e.data}).catch(function(){n.$bus.$emit("loading")})}}}},589:function(n,e,t){function o(n){a||t(590)}var a=!1,i=t(6)(t(592),t(593),o,"data-v-3c6282c4",null);i.options.__file="C:\\laragon\\www\\html\\src\\components\\tabelaDados.vue",i.esModule&&Object.keys(i.esModule).some(function(n){return"default"!==n&&"__"!==n.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] tabelaDados.vue: functional components are not supported with templates, they should use render functions."),n.exports=i.exports},590:function(n,e,t){var o=t(591);"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);var a=t(8).default;a("fd9b6f74",o,!1,{})},591:function(n,e,t){e=n.exports=t(7)(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},592:function(n,e,t){"use strict";function o(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(e,"__esModule",{value:!0});var a=t(211),i=o(a),s=t(19),r=o(s),u=t(204),l=t(39);e.default={props:{api:String},mounted:function(){this.buscarDados()},data:function(){return{page:1,config:{title:"Endereços com problemas no número",noHeader:!1,leftStickyColumns:0,rightStickyColumns:2,rowHeight:"90px",responsive:!0,selection:"multiple"},selected:[],columns:[{label:"Cep",field:"cep",width:"40px"},{label:"Rua",field:"rua",width:"120px"},{label:"Nº",field:"numero",width:"40px"},{label:"Complemento",field:"complemento",width:"100px"},{label:"Municipio",field:"municipio",width:"70px"},{label:"Bairro",field:"bairro",width:"70px"}],dados:[]}},computed:{paginas:function(){return parseInt(this.dados.total/this.dados.per_page)||1}},watch:{page:function(){this.buscarDados()}},methods:{selection:function(n,e){this.selected=e},saveNumero:function(n){n.row.numero=n.data,null!==n.row.numero&&this.corrigirEndereco(n.row)},saveRua:function(n){n.row.rua!==n.data&&null!==n.row.rua&&this.corrigirEndereco(n.row)},saveComplemento:function(n){n.row.complemento=n.data,null!==n.row.complemento&&this.corrigirEndereco(n.row)},buscarDados:function(){var n=this;this.$bus.$emit("loading"),this.$http.get(this.api+"?page="+this.page).then(function(e){n.dados=e.data,n.$v.$touch(),n.$bus.$emit("loading")}).catch(function(e){n.notificacaoFalha(e),n.$bus.$emit("loading")})},corrigirEndereco:function(n){var e=this;this.$bus.$emit("loading"),this.$http.put("/endereco/"+n.id,n).then(function(n){(0,l.toast)("Cadastro corrigido com sucesso!","positive"),e.$bus.$emit("loading"),e.buscarDados(),e.$emit("atualizar-totais")}).catch(function(n){e.notificacaoFalha(n),e.$bus.$emit("loading")})},notificacaoFalha:function(n){var e="";(0,r.default)(n.response.data).forEach(function(t){e+=n.response.data[t]+"<br />"}),(0,l.toast)(e,"negative")},removerEndereco:function(){var n=this,e=[];this.selected.forEach(function(t){e.push(n.$http.delete("pessoas/"+t.data.pessoa_id))}),this.$bus.$emit("loading"),i.default.all(e).then(function(e){n.$bus.$emit("loading"),(0,l.toast)("Pessoas Deletada com sucesso!","positive"),n.buscarDados(),n.$emit("atualizar-totais")}).catch(function(){n.$bus.$emit("loading")})}},validations:{dados:{data:{$each:{cep:{required:u.required,minLength:(0,u.minLength)(8)},rua:{required:u.required},numero:{required:u.required},bairro:{required:u.required},municipio:{required:u.required}}}}}}},593:function(n,e,t){n.exports={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("div",{staticClass:"row xs-gutter"},[t("q-data-table",{attrs:{config:n.config,data:n.dados.data,columns:n.columns},on:{selection:n.selection},scopedSlots:n._u([{key:"col-rua",fn:function(e){return t("div",{},[t("q-input",{attrs:{value:e.data,"float-label":"Rua","max-length":"50"},on:{blur:function(t){n.saveRua(e)}},model:{value:e.data,callback:function(t){n.$set(e,"data",t)},expression:"cell.data"}})],1)}},{key:"col-numero",fn:function(e){return t("div",{},[t("q-input",{attrs:{value:e.data,"float-label":"Numero","max-length":"8"},on:{blur:function(t){n.saveNumero(e)}},model:{value:e.data,callback:function(t){n.$set(e,"data",t)},expression:"cell.data"}})],1)}},{key:"col-complemento",fn:function(e){return t("div",{},[t("q-input",{attrs:{value:e.data,"float-label":"Complemento","max-length":"80"},on:{blur:function(t){n.saveComplemento(e)}},model:{value:e.data,callback:function(t){n.$set(e,"data",t)},expression:"cell.data"}})],1)}},{key:"selection",fn:function(e){return t("div",{},[t("q-btn",{attrs:{color:"negative"},on:{click:function(t){n.removerEndereco(e)}}},[n._v("\n          Deletar\n        ")])],1)}}])})],1),n._v(" "),t("div",{staticClass:"row jusfity-center"},[t("div",{staticClass:"col"},[t("q-pagination",{attrs:{max:n.paginas},model:{value:n.page,callback:function(e){n.page=e},expression:"page"}})],1)])])},staticRenderFns:[]},n.exports.render._withStripped=!0},594:function(n,e,t){n.exports={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("q-tabs",{attrs:{align:"justify"}},[t("q-tab",{attrs:{slot:"title",default:"",count:n.totais.numeros,name:"tab-3",icon:"repeat one",label:"Números"},slot:"title"}),n._v(" "),t("q-tab-pane",{attrs:{name:"tab-3","keep-alive":!0}},[t("tabela-dados",{attrs:{api:"/manutencao/numero"},on:{"atualizar-totais":function(e){n.getRegistros()}}})],1)],1)},staticRenderFns:[]},n.exports.render._withStripped=!0}});